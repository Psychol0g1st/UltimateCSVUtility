import"../chunks/NZTpNUN0.js";import{i as R}from"../chunks/D6zjB1v5.js";import{o as W}from"../chunks/DplQCmCy.js";import{c as X,a2 as Y,a6 as E,a7 as Z,f as $,s as n,d as l,aa as b,u as c,t as I,e as J,g as i,a9 as M,a5 as K,b as z,a4 as ee,B as L,a8 as N,r as t,ab as le,h as re,$ as ie,a as oe}from"../chunks/DupkCdS9.js";import{i as te}from"../chunks/BFY9oKHF.js";import{p as P,s as ne,a as ce,b as Q}from"../chunks/B9VibhMn.js";import{e as de,r as ve,s as V,a as me,i as ue,H as fe,F as be}from"../chunks/Dogn5NJ1.js";import{a as pe}from"../chunks/Bq9RdimH.js";import{F as _e,d as B,a as ge,r as he,D as xe}from"../chunks/BAlA2P8C.js";var ke=$('<div class="col-12 col-md-6"><div class="form-check"><input class="form-check-input" type="checkbox"/> <label class="form-check-label text-truncate"> </label></div></div>'),ye=$('<div class="text-muted text-center py-3"><i class="bi bi-inbox fs-1 d-block mb-2"></i> Nincs elérhető oszlop</div>'),ze=$('<div class="card shadow-sm mb-3"><div class="card-body"><div class="d-flex align-items-center justify-content-between mb-3"><h5 class="card-title mb-0"><i class="bi bi-list-check text-primary me-2"></i> Oszlopok kiválasztása</h5> <span class="badge bg-secondary"> </span></div> <div class="d-flex gap-2 mb-3"><button type="button" class="btn btn-outline-primary btn-sm"><i class="bi bi-check-all me-1"></i> Összes kijelölése</button> <button type="button" class="btn btn-outline-secondary btn-sm"><i class="bi bi-x-square me-1"></i> Összes elvetése</button></div> <div class="row g-2" style="max-height: 300px; overflow-y: auto;"></div> <!></div></div>');function ae(O,_){Y(_,!1);const C=M(),S=M(),o=[];let a=P(_,"columns",28,()=>[]),e=P(_,"selectedColumns",28,()=>[]);W(()=>{e().length===0&&a().length>0&&e([...a()])});function w(r,s){s?e().includes(r)||e([...e(),r]):e(e().filter(f=>f!==r))}function g(){e([...a()])}function j(){e([])}E(()=>(b(e()),b(a())),()=>{N(C,e().length===a().length)}),E(()=>b(e()),()=>{N(S,e().length===0)}),Z(),R();var m=ze(),h=l(m),x=l(h),D=n(l(x),2),T=l(D);t(D),t(x);var k=n(x,2),d=l(k),y=n(d,2);t(k);var u=n(k,2);de(u,5,a,ue,(r,s)=>{var f=ke(),p=l(f),v=l(p);ve(v);var U,A=n(v,2),se=l(A,!0);t(A),t(p),t(f),I(H=>{V(v,"id",`col-${i(s)??""}`),me(v,H),U!==(U=i(s))&&(v.value=(v.__value=i(s))??""),V(A,"for",`col-${i(s)??""}`),V(A,"title",i(s)),J(se,i(s))},[()=>(b(e()),i(s),c(()=>e().includes(i(s))))],le),pe(o,[],v,()=>(i(s),e()),e),K("change",v,H=>{const G=H.target;G&&w(i(s),G.checked)}),z(r,f)}),t(u);var F=n(u,2);{var q=r=>{var s=ye();z(r,s)};te(F,r=>{b(a()),c(()=>a().length===0)&&r(q)})}return t(h),t(m),I(()=>{J(T,`${b(e()),c(()=>e().length)??""} / ${b(a()),c(()=>a().length)??""}`),d.disabled=i(C),y.disabled=i(S)}),K("click",d,g),K("click",y,j),z(O,m),ee({get columns(){return a()},set columns(r){a(r),L()},get selectedColumns(){return e()},set selectedColumns(r){e(r),L()}})}X(ae,{columns:{},selectedColumns:{}},[],[],!0);var $e=$('<div class="row justify-content-center mt-4"><div class="col-12 col-lg-8 col-xl-7"><!></div></div> <div class="row justify-content-center mt-4"><div class="col-12 col-lg-8 col-xl-7"><!></div></div>',1),Ce=$(`<div class="d-flex flex-column min-vh-100"><!> <main class="flex-grow-1"><div class="container py-4"><div class="mb-4 text-center"><h2 class="fw-bold mb-2"><i class="bi bi-funnel text-primary me-2"></i> Oszlopválasztó</h2> <p class="text-muted mb-0">Töltsön fel CSV/TSV fájlt, válassza ki a megtartani kívánt oszlopokat, és exportálja az
          eredményt.</p></div> <div class="row justify-content-center"><div class="col-12 col-lg-8 col-xl-7"><!></div></div> <!></div></main> <!></div>`);function Se(O,_){Y(_,!1);const[C,S]=ce(),o=()=>ne(B,"$dataStore",C);let a=M([]);W(()=>{he()}),E(()=>(o(),i(a)),()=>{Q(B,c(o).transformedData=xe.filterColumns(o().originalData,i(a)),c(o))}),Z(),R();var e=Ce();re(d=>{ie.title="Oszlopválasztó | Adateszköz Készlet"});var w=l(e);fe(w);var g=n(w,2),j=l(g),m=n(l(j),2),h=l(m),x=l(h);_e(x,{}),t(h),t(m);var D=n(m,2);{var T=d=>{var y=$e(),u=oe(y),F=l(u),q=l(F);ae(q,{get columns(){return o().columns},set columns(p){Q(B,c(o).columns=p,c(o))},get selectedColumns(){return i(a)},set selectedColumns(p){N(a,p)},$$legacy:!0}),t(F),t(u);var r=n(u,2),s=l(r),f=l(s);ge(f,{get data(){return o(),c(()=>o().transformedData)},filename:"kivalasztott_oszlopok.csv",label:"Kiválasztott oszlopok exportálása"}),t(s),t(r),z(d,y)};te(D,d=>{o(),c(()=>o().originalData.length>0)&&d(T)})}t(j),t(g);var k=n(g,2);be(k,{}),t(e),z(O,e),ee(),S()}X(Se,{},[],[],!0);export{Se as component};
