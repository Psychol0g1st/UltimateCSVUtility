import"../chunks/NZTpNUN0.js";import{q as te,aU as Ea,c as ga,a2 as ha,f as b,s,d as t,g as a,aV as L,aW as P,t as V,a8 as x,b as u,a4 as xa,B as la,r as e,aj as ka,e as g,ad as _a,p as re,h as se,$ as le,a as oe}from"../chunks/DupkCdS9.js";import{i as W}from"../chunks/BFY9oKHF.js";import{e as ea,i as ta,s as ie,r as Ma,H as de,F as ne}from"../chunks/CB-CiqKI.js";import{b as fa,D as Ka,F as ve,d as Va,s as Wa,r as ce,a as qa}from"../chunks/mr1D0X5_.js";import{p as oa,s as me,a as ue}from"../chunks/B9VibhMn.js";import{b as Ba}from"../chunks/Bq9RdimH.js";function Oa(z,n){te(()=>{var i=z.getRootNode(),v=i.host?i:i.head??i.ownerDocument.head;if(!v.querySelector("#"+n.hash)){const r=document.createElement("style");r.id=n.hash,r.textContent=n.code,v.appendChild(r)}})}function be(z,n,i,v){const r=Ka.removeEmptyRows(n(),a(i));v()(r)}var pe=b("<option> </option>"),_e=b("<div><label>Column: <select><option disabled selected>Válassz oszlopot</option><!></select></label> <button>Alkalmazás</button></div>");function Ha(z,n){ha(n,!0);let i=oa(n,"data",31,()=>ka([])),v=oa(n,"onTransform",7),r=P(""),l=L(()=>i().length?Object.keys(i()[0]):[]);var o=_e(),c=t(o),A=s(t(c)),E=t(A);E.value=E.__value="";var O=s(E);ea(O,17,()=>a(l),ta,(w,$)=>{var T=pe(),d=t(T,!0);e(T);var k={};V(()=>{g(d,a($)),k!==(k=a($))&&(T.value=(T.__value=a($))??"")}),u(w,T)}),e(A),e(c);var q=s(c,2);return q.__click=[be,i,r,v],e(o),V(()=>q.disabled=!a(r)),fa(A,()=>a(r),w=>x(r,w)),u(z,o),xa({get data(){return i()},set data(w=[]){i(w),la()},get onTransform(){return v()},set onTransform(w){v(w),la()}})}Ea(["click"]);ga(Ha,{data:{},onTransform:{}},[],[],!0);function fe(z,n,i,v,r,l,o){const c=Ka.replaceByCondition(n(),a(i),a(v),a(r),a(l));o()(c)}function ge(z,n,i,v,r){x(n,""),x(i,"contains"),x(v,""),x(r,"")}var he=b("<option> </option>"),xe=b("<option> </option>"),ke=b('<div class="col-12"><div class="alert alert-info py-2 mb-0"><small class="fw-semibold"><i class="bi bi-info-circle me-1"></i> Előnézet:</small> <small>A(z) "<strong> </strong>" oszlopban, ha az érték <strong> </strong> akkor cseréld erre: "<strong> </strong>"</small></div></div>'),ye=b('<div class="card border-0"><div class="card-body p-0"><div class="row g-3"><div class="col-12"><label class="form-label fw-semibold"><i class="bi bi-table me-1"></i> Válassz oszlopot</label> <select class="form-select"><option disabled>Válassz oszlopot...</option><!></select></div> <div class="col-md-6"><label class="form-label fw-semibold"><i class="bi bi-funnel me-1"></i> Feltétel</label> <select class="form-select"></select></div> <div class="col-md-6"><label class="form-label fw-semibold"><i class="bi bi-search me-1"></i> </label> <input type="text" class="form-control"/></div> <div class="col-12"><label class="form-label fw-semibold"><i class="bi bi-arrow-right-circle me-1"></i> Csere erre</label> <input type="text" class="form-control" placeholder="Add meg az új értéket..."/></div> <!> <div class="col-12"><div class="d-flex gap-2 justify-content-end"><button type="button" class="btn btn-outline-secondary btn-sm"><i class="bi bi-arrow-counterclockwise me-1"></i> Visszaállítás</button> <button type="button" class="btn btn-primary"><i class="bi bi-check-lg me-1"></i> Csere alkalmazása</button></div></div></div></div></div>');function Na(z,n){ha(n,!0);let i=oa(n,"data",31,()=>ka([])),v=oa(n,"onTransform",7),r=P(""),l=P("contains"),o=P(""),c=P(""),A=L(()=>i().length?Object.keys(i()[0]):[]),E=L(()=>a(r)&&a(c)&&(a(l)==="isEmpty"||a(o)));const O=[{value:"contains",label:"Tartalmazza",needsValue:!0},{value:"equals",label:"Megegyezik",needsValue:!0},{value:"isEmpty",label:"Üres",needsValue:!1},{value:"startsWith",label:"Kezdődik",needsValue:!0},{value:"endsWith",label:"Végződik",needsValue:!0}];var q=ye(),w=t(q),$=t(w),T=t($),d=s(t(T),2),k=t(d);k.value=k.__value="";var j=s(k);ea(j,17,()=>a(A),ta,(m,y)=>{var _=he(),G=t(_,!0);e(_);var F={};V(()=>{g(G,a(y)),F!==(F=a(y))&&(_.value=(_.__value=a(y))??"")}),u(m,_)}),e(d),e(T);var R=s(T,2),U=s(t(R),2);ea(U,21,()=>O,ta,(m,y)=>{var _=xe(),G=t(_,!0);e(_);var F={};V(()=>{g(G,a(y).label),F!==(F=a(y).value)&&(_.value=(_.__value=a(y).value)??"")}),u(m,_)}),e(U),e(R);var ia=s(R,2),da=t(ia),ya=s(t(da));e(da);var h=s(da,2);Ma(h),e(ia);var C=s(ia,2),J=s(t(C),2);Ma(J),e(C);var Q=s(C,2);{var X=m=>{var y=ke(),_=t(y),G=s(t(_),2),F=s(t(G)),ca=t(F,!0);e(F);var ma=s(F,2),za=t(ma,!0);e(ma);var pa=s(ma,2),ua=t(pa,!0);e(pa),_a(),e(G),e(_),e(y),V(()=>{g(ca,a(r)),g(za,a(l)==="contains"?`tartalmazza a(z) "${a(o)}"`:a(l)==="equals"?`megegyezik a(z) "${a(o)}"`:a(l)==="isEmpty"?"üres":a(l)==="startsWith"?`a(z) "${a(o)}"-ra/-re kezdődik`:a(l)==="endsWith"?`a(z) "${a(o)}"-ra/-re végződik`:""),g(ua,a(c))}),u(m,y)};W(Q,m=>{a(r)&&a(l)&&m(X)})}var na=s(Q,2),ra=t(na),Y=t(ra);Y.__click=[ge,r,l,o,c];var va=s(Y,2);return va.__click=[fe,i,r,l,o,c,v],e(ra),e(na),e($),e(w),e(q),V(()=>{g(ya,` ${a(l)==="contains"?"Tartalmazza a következőt":a(l)==="equals"?"Megegyezik ezzel":a(l)==="startsWith"?"Kezdődik ezzel":a(l)==="endsWith"?"Végződik ezzel":"Érték"}`),h.disabled=a(l)==="isEmpty",ie(h,"placeholder",a(l)==="isEmpty"?"Nem szükséges":"Add meg az értéket..."),Y.disabled=!a(r)&&!a(o)&&!a(c),va.disabled=!a(E)}),fa(d,()=>a(r),m=>x(r,m)),fa(U,()=>a(l),m=>x(l,m)),Ba(h,()=>a(o),m=>x(o,m)),Ba(J,()=>a(c),m=>x(c,m)),u(z,q),xa({get data(){return i()},set data(m=[]){i(m),la()},get onTransform(){return v()},set onTransform(m){v(m),la()}})}Ea(["click"]);ga(Na,{data:{},onTransform:{}},[],[],!0);var ze=b("<option> </option>"),we=b('<div class="manipulation-selector svelte-1r349a1"><div class="selector-header svelte-1r349a1"><label class="svelte-1r349a1"><span class="svelte-1r349a1">Válassz műveletet:</span> <select class="svelte-1r349a1"></select></label></div> <div class="manipulation-form svelte-1r349a1"><!></div></div>');const Te={hash:"svelte-1r349a1",code:`.manipulation-selector.svelte-1r349a1 {display:flex;flex-direction:column;gap:1.5rem;max-width:500px;padding:1rem;border:1px solid #e0e0e0;border-radius:8px;background-color:#fafafa;}.selector-header.svelte-1r349a1 {border-bottom:1px solid #e0e0e0;padding-bottom:1rem;}.selector-header.svelte-1r349a1 label:where(.svelte-1r349a1) {display:flex;flex-direction:column;gap:0.5rem;}.selector-header.svelte-1r349a1 span:where(.svelte-1r349a1) {font-weight:600;color:#333;}.selector-header.svelte-1r349a1 select:where(.svelte-1r349a1) {padding:0.5rem;border:1px solid #ccc;border-radius:4px;font-size:1rem;}.manipulation-form.svelte-1r349a1 {background-color:white;padding:1rem;border-radius:6px;border:1px solid #e8e8e8;}.manipulation-form label {display:flex;flex-direction:column;gap:0.25rem;margin-bottom:1rem;font-weight:500;}.manipulation-form select,\r
  .manipulation-form input {padding:0.5rem;border:1px solid #ccc;border-radius:4px;font-size:0.9rem;}.manipulation-form button {padding:0.75rem 1.5rem;background-color:#007bff;color:white;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;}.manipulation-form button:hover {background-color:#0056b3;}.manipulation-form button:disabled {background-color:#6c757d;cursor:not-allowed;}`};function Ua(z,n){ha(n,!0),Oa(z,Te);let i=oa(n,"data",31,()=>ka([])),v=oa(n,"onTransform",7),r=P("removeEmptyRows");function l(d){v()(d)}const o=[{value:"removeEmptyRows",label:"Üres sorok eltávolítása"},{value:"replaceByCondition",label:"Feltételes szöveg csere"}];var c=we(),A=t(c),E=t(A),O=s(t(E),2);ea(O,21,()=>o,ta,(d,k)=>{var j=ze(),R=t(j,!0);e(j);var U={};V(()=>{g(R,a(k).label),U!==(U=a(k).value)&&(j.value=(j.__value=a(k).value)??"")}),u(d,j)}),e(O),e(E),e(A);var q=s(A,2),w=t(q);{var $=d=>{Ha(d,{get data(){return i()},onTransform:l})},T=(d,k)=>{{var j=R=>{Na(R,{get data(){return i()},onTransform:l})};W(d,R=>{a(r)==="replaceByCondition"&&R(j)},k)}};W(w,d=>{a(r)==="removeEmptyRows"?d($):d(T,!1)})}return e(q),e(c),fa(O,()=>a(r),d=>x(r,d)),u(z,c),xa({get data(){return i()},set data(d=[]){i(d),la()},get onTransform(){return v()},set onTransform(d){v(d),la()}})}ga(Ua,{data:{},onTransform:{}},[],[],!0);var De=b("<span> </span>"),Ve=b('<span class="badge bg-primary fs-6"> </span>'),Ee=b('<div class="mt-3 text-center"><!></div>'),je=b('<div class="mt-3 pt-3 border-top"><button class="btn btn-outline-secondary btn-sm"><i class="bi bi-arrow-counterclockwise me-1"></i> Visszaállítás eredeti állapotra</button></div>'),Ce=b('<div class="row justify-content-center mt-4"><div class="col-12 col-lg-8 col-xl-7"><div class="card border-0 shadow-sm border-success"><div class="card-header bg-success bg-opacity-10 border-0"><h6 class="card-title mb-0 text-success"><i class="bi bi-check-circle me-2"></i>Exportálásra kész</h6></div> <div class="card-body"><p class="text-muted mb-3">Az adatok sikeresen át lettek alakítva. Exportálja az eredményt alább.</p> <!></div></div></div></div>'),Ae=b('<div class="row justify-content-center mt-4"><div class="col-12 col-lg-8 col-xl-7"><div class="card border-0 shadow-sm border-secondary"><div class="card-body text-center"><i class="bi bi-info-circle text-muted fs-1 mb-3"></i> <h6 class="text-muted">Még nincsenek átalakítások</h6> <p class="text-muted small mb-3">Válasszon átalakítást fent, vagy exportálja az eredeti adatokat.</p> <!></div></div></div></div>'),$e=b('<th class="text-nowrap"> </th>'),Re=b('<td class="text-truncate" style="max-width: 150px;"> </td>'),Fe=b("<tr></tr>"),Se=b('<small class="text-muted"> </small>'),Me=b('<div class="row justify-content-center mt-4"><div class="col-12 col-lg-8 col-xl-7"><div class="card border-0 shadow-sm"><div class="card-header bg-light border-0"><h6 class="card-title mb-0"><i class="bi bi-table me-2"></i>Adatelőnézet <span class="badge bg-secondary ms-2"> </span></h6></div> <div class="card-body"><div class="table-responsive"><table class="table table-sm table-hover"><thead class="table-light"><tr></tr></thead><tbody></tbody></table> <!></div></div></div></div></div>'),We=b('<div class="row justify-content-center mt-4"><div class="col-12 col-lg-8 col-xl-7"><div class="card border-0 shadow-sm"><div class="card-body"><h6 class="card-title text-muted mb-3"><i class="bi bi-bar-chart me-2"></i>Adatáttekintés</h6> <div class="row text-center"><div class="col-4"><div class="fw-bold text-primary fs-4"> </div> <small class="text-muted">Eredeti sorok</small></div> <div class="col-4"><div class="fw-bold text-success fs-4"> </div> <small class="text-muted">Oszlopok</small></div> <div class="col-4"><div> </div> <small class="text-muted">Jelenlegi sorok</small></div></div> <!></div></div></div></div> <div class="row justify-content-center mt-4"><div class="col-12 col-lg-8 col-xl-7"><div class="card border-0 shadow-sm"><div class="card-header bg-light border-0"><h6 class="card-title mb-0"><i class="bi bi-tools me-2"></i>Adatátalakítások</h6></div> <div class="card-body"><!> <!></div></div></div></div> <!> <!>',1),qe=b('<div class="d-flex flex-column min-vh-100"><!> <main class="flex-grow-1"><div class="container py-4"><div class="mb-4 text-center"><h2 class="fw-bold mb-2"><i class="bi bi-gear-fill text-primary me-2"></i> Adatmanipuláció</h2> <p class="text-muted mb-0">Töltsön fel CSV/TSV fájlt, alkalmazzon átalakításokat, és exportálja az eredményt.</p></div> <div class="row justify-content-center"><div class="col-12 col-lg-8 col-xl-7"><!></div></div> <!></div></main> <!></div>');const Be={hash:"svelte-jyegz7",code:".manipulation-selector {border:none !important;background-color:transparent !important;padding:0 !important;}"};function Ke(z,n){ha(n,!0),Oa(z,Be);const[i,v]=ue(),r=()=>me(Va,"$dataStore",i);let l=P(ka([])),o=P(!1),c=L(()=>r().originalData.length),A=L(()=>a(l).length),E=L(()=>a(c)-a(A)),O=L(()=>{if(r().originalData.length===a(l).length&&a(l).length>0){let h=0;for(let C=0;C<a(l).length;C++){const J=r().originalData[C],Q=a(l)[C];for(const X of r().columns)if((J?.[X]??"")!==(Q?.[X]??"")){h++;break}}return h}return 0});re(()=>{ce(),x(l,[],!0),x(o,!1)});function q(h){x(l,h,!0),x(o,!0),Va.update(C=>({...C,transformedData:a(l)}))}function w(){x(l,[],!0),x(o,!1),Va.update(h=>({...h,transformedData:r().originalData}))}var $=qe();se(h=>{le.title="Adatmanipuláció | Adateszköz Készlet"});var T=t($);de(T);var d=s(T,2),k=t(d),j=s(t(k),2),R=t(j),U=t(R);ve(U,{}),e(R),e(j);var ia=s(j,2);{var da=h=>{var C=We(),J=oe(C),Q=t(J),X=t(Q),na=t(X),ra=s(t(na),2),Y=t(ra),va=t(Y),m=t(va,!0);e(va),_a(2),e(Y);var y=s(Y,2),_=t(y),G=t(_,!0);e(_),_a(2),e(y);var F=s(y,2),ca=t(F),ma=t(ca,!0);e(ca),_a(2),e(F),e(ra);var za=s(ra,2);{var pa=p=>{var f=Ee(),B=t(f);{var K=D=>{var M=De(),I=t(M);e(M),V(H=>{Wa(M,1,`badge ${a(E)>0?"bg-warning":"bg-info"} fs-6`),g(I,`${a(E)>0?"-":"+"}${H??""} sor`)},[()=>Math.abs(a(E))]),u(D,M)},S=(D,M)=>{{var I=H=>{var sa=Ve(),ba=t(sa);e(sa),V(()=>g(ba,`${a(O)??""} módosított sor`)),u(H,sa)};W(D,H=>{a(O)>0&&H(I)},M)}};W(B,D=>{a(E)!==0?D(K):D(S,!1)})}e(f),u(p,f)};W(za,p=>{a(o)&&p(pa)})}e(na),e(X),e(Q),e(J);var ua=s(J,2),ja=t(ua),Ca=t(ja),Aa=s(t(Ca),2),$a=t(Aa);const Ja=L(()=>a(o)?a(l):r().originalData);Ua($a,{get data(){return a(Ja)},onTransform:q});var Ga=s($a,2);{var Ia=p=>{var f=je(),B=t(f);B.__click=w,e(f),u(p,f)};W(Ga,p=>{a(o)&&p(Ia)})}e(Aa),e(Ca),e(ja),e(ua);var Ra=s(ua,2);{var La=p=>{var f=Ce(),B=t(f),K=t(B),S=s(t(K),2),D=s(t(S),2);qa(D,{get data(){return a(l)},filename:"modositott_adatok.csv",label:"Módosított adatok exportálása"}),e(S),e(K),e(B),e(f),u(p,f)},Pa=(p,f)=>{{var B=K=>{var S=Ae(),D=t(S),M=t(D),I=t(M),H=s(t(I),6);qa(H,{get data(){return r().originalData},filename:"eredeti_adatok.csv",label:"Eredeti adatok exportálása"}),e(I),e(M),e(D),e(S),u(K,S)};W(p,K=>{r().originalData.length>0&&K(B)},f)}};W(Ra,p=>{a(o)?p(La):p(Pa,!1)})}var Qa=s(Ra,2);{var Xa=p=>{var f=Me(),B=t(f),K=t(B),S=t(K),D=t(S),M=s(t(D),2),I=t(M,!0);e(M),e(D),e(S);var H=s(S,2),sa=t(H),ba=t(sa),wa=t(ba),Fa=t(wa);ea(Fa,5,()=>r().columns,ta,(Z,aa)=>{var N=$e(),Ta=t(N,!0);e(N),V(()=>g(Ta,a(aa))),u(Z,N)}),e(Fa),e(wa);var Sa=s(wa);ea(Sa,5,()=>(a(o)?a(l):r().originalData).slice(0,5),ta,(Z,aa)=>{var N=Fe();ea(N,5,()=>r().columns,ta,(Ta,ae)=>{var Da=Re(),ee=t(Da,!0);e(Da),V(()=>g(ee,a(aa)[a(ae)]||"")),u(Ta,Da)}),e(N),u(Z,N)}),e(Sa),e(ba);var Ya=s(ba,2);{var Za=Z=>{var aa=Se(),N=t(aa);e(aa),V(()=>g(N,`Az első 5 sor megjelenítve ${(a(o)?a(l).length:r().originalData.length)??""} összes sorból`)),u(Z,aa)};W(Ya,Z=>{(a(o)?a(l):r().originalData).length>5&&Z(Za)})}e(sa),e(H),e(K),e(B),e(f),V(()=>g(I,a(o)?"Átalakított":"Eredeti")),u(p,f)};W(Qa,p=>{(a(o)?a(l):r().originalData).length>0&&p(Xa)})}V(()=>{g(m,a(c)),g(G,r().columns.length),Wa(ca,1,`fw-bold ${a(o)?"text-info":"text-muted"} fs-4`),g(ma,a(o)?a(A):a(c))}),u(h,C)};W(ia,h=>{r().originalData.length>0&&h(da)})}e(k),e(d);var ya=s(d,2);ne(ya,{}),e($),u(z,$),xa(),v()}Ea(["click"]);ga(Ke,{},[],[],!0);export{Ke as component};
